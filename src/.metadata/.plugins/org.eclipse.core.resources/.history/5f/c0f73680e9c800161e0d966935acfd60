package wu.leizi.project.webApi;

import org.json.JSONArray;
import org.json.JSONException;

public class offlineLog {
	private static offlineLog instance = null;
	protected RpcClientFacade putClient = null;
	protected RpcClientFacade ctrClient = null;
	private offlineLog(){
//		logger = LoggerFactory.getLogger(offlineLog.class);
		
//		System.out.println(logger.getName());
		ctrClient = new RpcClientFacade();
		ctrClient.init("127.0.0.1", 44447);
		
	}
	public static offlineLog getInstance(){
		if (instance == null) instance = new offlineLog();
		return instance;
	}
	public void put(String s) throws JSONException{
		JSONArray ans = new JSONArray(s);
		for (int i = 0; i < ans.length(); i++){
			System.out.println(ans.getJSONObject(i));
			logger.info(ans.getJSONObject(i).toString());
		}
	}
	public void click(String s){
		System.out.println("[DEBUG]"+s);
		client.sendDataToFlume(s);
	}

}

